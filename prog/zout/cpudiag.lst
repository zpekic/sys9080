   1:				;***********************************************************************
   2:				; MICROCOSM ASSOCIATES  8080/8085 CPU DIAGNOSTIC VERSION 1.0  (C) 1980
   3:				;***********************************************************************
   4:				;
   5:				;DONATED TO THE "SIG/M" CP/M USER'S GROUP BY:
   6:				;KELLY SMITH, MICROCOSM ASSOCIATES
   7:				;3055 WACO AVENUE
   8:				;SIMI VALLEY, CALIFORNIA, 93065
   9:				;(805) 527-9321 (MODEM, CP/M-NET (TM))
  10:				;(805) 527-0518 (VERBAL)
  11:				;
  12:     -	0005          	BDOS	EQU	00005H	;BDOS ENTRY TO CP/M
  13:     -	0000          	WBOOT	EQU	00000H	;RE-ENTRY TO CP/M WARM BOOT
  14:     -	0010          	ACIA0_STATUS	EQU 0x10; status read-only
  15:     -	0011          	ACIA0_DATA	EQU 0x11; data send/receive
  16:     -	0000          	PORT0		EQU 0x00; 8 bit parallel port
  17:     -	0001          	PORT1		EQU 0x01; 8 bit parallel port
  18:     -	0002          	MASK_READY	EQU 0x02;
  19:     -	000D          	CR		EQU 0x0D; ASCII newline
  20:     -	000A          	LF		EQU 0x0A; ASCII line feed
  21:				;
  22:				;
  23:     -	0000          			ORG WBOOT; -- CPU starts here after reset
  24:    0+4	0000  F3      			DI
  25:    4+10	0001  C32500  			JMP INIT
  26:				;
  27:				; -- Fake "BDOS", only implement functions 2 and 9 (https://www.seasip.info/Cpm/bdos.html)
  28:				; 
  29:     -	0005          			ORG BDOS;
  30:				
  31:   14+11	0005  F5      			PUSH PSW
  32:   25+5	0006  79      			MOV A, C
  33:   30+7	0007  FE02    			CPI 2
  34:   37+10	0009  CA1300  			JZ C_WRITE
  35:   47+7	000C  FE09    			CPI 9
  36:   54+10	000E  CA1900  			JZ C_WRITESTR
  37:   64+10	0011  F1      	DONE: 		POP PSW
  38:   74+10	0012  C9      			RET
  39:				
  40:   84+5	0013  7B      	C_WRITE:	MOV A, E
  41:   89+10	0014  D311    			OUT ACIA0_DATA
  42:   99+10	0016  C31100  			JMP DONE
  43:				
  44:  109+7	0019  1A      	C_WRITESTR:	LDAX D
  45:  116+7	001A  FE24    			CPI '$'
  46:  123+10	001C  CA1100  			JZ DONE
  47:  133+10	001F  D311    			OUT ACIA0_DATA
  48:  143+5	0021  13      			INX D
  49:  148+10	0022  C31900  			JMP C_WRITESTR
  50:				
  51:  158+10	0025  210000  	INIT: 		LXI H, 0000H
  52:  168+5	0028  2B      			DCX H
  53:  173+5	0029  F9      			SPHL
  54:  178+4	002A  FB      			EI
  55:  182+10	002B  C3AF01  			JMP CPU
  56:				
  57:     -	0038          			ORG 0x0038	;-----RST7 (BTN0)
  58:  192+10	0038  210000  	DumpMem:	LXI H, 0000H
  59:  202+17	003B  CD6100  			Call TxValueOfHL
  60:  219+17	003E  CD5000  			Call BytesAtHL
  61:  236+7	0041  3E0D    			MVI A, CR
  62:  243+17	0043  CD7E00  			Call SendChar
  63:  260+7	0046  3E00    			MVI A, 000H
  64:  267+17	0048  CD8A00  	DeadLoop:	CALL PSWOUT
  65:  284+7	004B  D677    			SUI 077H
  66:  291+10	004D  C24800  			JNZ DeadLoop
  67:						
  68:  301+7	0050  0E10    	BytesAtHL:	MVI C, 0x10		;dump 16 bytes at (HL)
  69:  308+7	0052  3E20    	NextByteAtHL:	MVI A, " "
  70:  315+17	0054  CD7E00  			CALL SendChar
  71:  332+7	0057  7E      			MOV A, M
  72:  339+17	0058  CD6600  			CALL TxValueOfA
  73:  356+5	005B  23      			INX H
  74:  361+5	005C  0D      			DCR C
  75:  366+5+6	005D  C8      			RZ			;return if reached 0
  76:  371+10	005E  C35200  			JMP NextByteAtHL
  77:				
  78:  381+5	0061  7C      	TxValueOfHL:	MOV A, H
  79:  386+17	0062  CD6600  			CALL TxValueOfA
  80:  403+5	0065  7D      			MOV A, L
  81:  408+11	0066  F5      	TxValueOfA:	PUSH PSW
  82:  419+4	0067  0F      			RRC
  83:  423+4	0068  0F      			RRC
  84:  427+4	0069  0F      			RRC
  85:  431+4	006A  0F      			RRC
  86:  435+17	006B  CD6F00  			CALL TxHexDig
  87:  452+10	006E  F1      			POP PSW
  88:  462+7	006F  E60F    	TxHexDig:	ANI 0x0F
  89:  469+7	0071  C630    			ADI '0'
  90:  476+7	0073  FE3A    			CPI '9' + 1
  91:  483+10	0075  FA7A00  			JM TxHexDigOut
  92:  493+7	0078  C607    			ADI 0x07
  93:  500+17	007A  CD7E00  	TxHexDigOut:	CALL SendChar
  94:  517+10	007D  C9      			RET
  95:					
  96:  527+11	007E  F5      	SendChar:	PUSH PSW
  97:  538+10	007F  DB10    	CheckIfReady:	IN ACIA0_STATUS
  98:  548+7	0081  E602    			ANI MASK_READY
  99:  555+10	0083  CA7F00  			JZ CheckIfReady
 100:  565+10	0086  F1      			POP PSW
 101:  575+10	0087  D311    			OUT ACIA0_DATA
 102:  585+10	0089  C9      			RET
 103:				
 104:  595+11	008A  F5      	PSWOUT:		PUSH PSW
 105:  606+11	008B  F5      			PUSH PSW
 106:  617+10	008C  C1      			POP B
 107:  627+5	008D  78      			MOV A, B
 108:  632+10	008E  D301    			OUT PORT1
 109:  642+5	0090  79      			MOV A, C
 110:  647+10	0091  D300    			OUT PORT0
 111:  657+10	0093  DB01    	WaitForBtn1:	IN PORT1
 112:  667+7	0095  E602    			ANI 002H
 113:  674+10	0097  CA9300  			JZ WaitForBtn1
 114:  684+10	009A  F1      			POP PSW
 115:  694+10	009B  C9      			RET
 116:				;
 117:				;
 118:				
 119:     -	0100          			ORG	00100H
 120:				;
 121:				;
 122:				;
 123:  704+10	0100  C3AF01  		JMP	CPU	;JUMP TO 8080 CPU DIAGNOSTIC
 124:				;
 125:				;
 126:				;
 127:     -	0103  4D494352		DB	'MICROCOSM ASSOCIATES 8080/8085 CPU DIAGNOSTIC'
	      4F434F53
	      4D204153
	      534F4349
	      41544553
	      20383038
	      302F3830
	      38352043
	      50552044
	      4941474E
	      4F535449
	      43
 128:     -	0130  20564552		DB	' VERSION 1.0  (C) 1980'
	      53494F4E
	      20312E30
	      20202843
	      29203139
	      3830
 129:				;
 130:				;
 131:				;
 132:				
 133:				;
 134:				;
 135:				;
 136:				;MESSAGE OUTPUT ROUTINE
 137:				;
 138:  714+11	0146  D5      	MSG:	PUSH	D	;EXILE D REG.
 139:  725+5	0147  EB      		XCHG		;SWAP H&L REGS. TO D&E REGS.
 140:  730+7	0148  0E09    		MVI	C,9	;LET BDOS KNOW WE WANT TO SEND A MESSAGE
 141:  737+17	014A  CD0500  		CALL	BDOS
 142:  754+10	014D  D1      		POP	D	;BACK FROM EXILE
 143:  764+10	014E  C9      		RET
 144:				;
 145:				;
 146:				;
 147:				;CHARACTER OUTPUT ROUTINE
 148:				;
 149:  774+7	014F  0E02    	PCHAR:	MVI	C,2
 150:  781+17	0151  CD0500  		CALL	BDOS
 151:  798+10	0154  C9      		RET
 152:				;
 153:				;
 154:				;
 155:  808+11	0155  F5      	BYTEO:	PUSH	PSW
 156:  819+17	0156  CD6501  		CALL	BYTO1
 157:  836+5	0159  5F      		MOV	E,A
 158:  841+17	015A  CD4F01  		CALL	PCHAR
 159:  858+10	015D  F1      		POP	PSW
 160:  868+17	015E  CD6901  		CALL	BYTO2
 161:  885+5	0161  5F      		MOV	E,A
 162:  890+10	0162  C34F01  		JMP	PCHAR
 163:  900+4	0165  0F      	BYTO1:	RRC
 164:  904+4	0166  0F      		RRC
 165:  908+4	0167  0F      		RRC
 166:  912+4	0168  0F      		RRC
 167:  916+7	0169  E60F    	BYTO2:	ANI	0FH
 168:  923+7	016B  FE0A    		CPI	0AH
 169:  930+10	016D  FA7201  		JM	BYTO3
 170:  940+7	0170  C607    		ADI	7
 171:  947+7	0172  C630    	BYTO3:	ADI	30H
 172:  954+10	0174  C9      		RET
 173:				;
 174:				;
 175:				;
 176:				;************************************************************
 177:				;           MESSAGE TABLE FOR OPERATIONAL CPU TEST
 178:				;************************************************************
 179:				;
 180:     -	0175  0C0D0A20	OKCPU:	DB	0CH,0DH,0AH,' CPU IS OPERATIONAL$'
	      43505520
	      4953204F
	      50455241
	      54494F4E
	      414C24
 181:				;
 182:     -	018C  0C0D0A20	NGCPU:	DB	0CH,0DH,0AH,' CPU HAS FAILED!    ERROR EXIT=$'
	      43505520
	      48415320
	      4641494C
	      45442120
	      20202045
	      52524F52
	      20455849
	      543D24
 183:				;
 184:				;
 185:				;
 186:				;************************************************************
 187:				;                8080/8085 CPU TEST/DIAGNOSTIC
 188:				;************************************************************
 189:				;
 190:				;NOTE: (1) PROGRAM ASSUMES "CALL",AND "LXI SP" INSTRUCTIONS WORK!
 191:				;
 192:				;      (2) INSTRUCTIONS NOT TESTED ARE "HLT","DI","EI","RIM","SIM",
 193:				;          AND "RST 0" THRU "RST 7"
 194:				;
 195:				;
 196:				;
 197:				;TEST JUMP INSTRUCTIONS AND FLAGS
 198:				;
 199:  964+10	01AF  3180FF  	CPU:	LXI	SP,STACK	;SET THE STACK POINTER
 200:  974+7	01B2  E600    		ANI	0	;INITIALIZE A REG. AND CLEAR ALL FLAGS
 201:  981+10	01B4  CABA01  		JZ	J010	;TEST "JZ"
 202:  991+17	01B7  CD8D06  		CALL	CPUER
 203: 1008+10	01BA  D2C001  	J010:	JNC	J020	;TEST "JNC"
 204: 1018+17	01BD  CD8D06  		CALL	CPUER
 205: 1035+10	01C0  EAC601  	J020:	JPE	J030	;TEST "JPE"
 206: 1045+17	01C3  CD8D06  		CALL	CPUER
 207: 1062+10	01C6  F2CC01  	J030:	JP	J040	;TEST "JP"
 208: 1072+17	01C9  CD8D06  		CALL	CPUER
 209: 1089+10	01CC  C2DB01  	J040:	JNZ	J050	;TEST "JNZ"
 210: 1099+10	01CF  DADB01  		JC	J050	;TEST "JC"
 211: 1109+10	01D2  E2DB01  		JPO	J050	;TEST "JPO"
 212: 1119+10	01D5  FADB01  		JM	J050	;TEST "JM"
 213: 1129+10	01D8  C3DE01  		JMP	J060	;TEST "JMP" (IT'S A LITTLE LATE,BUT WHAT THE HELL!
 214: 1139+17	01DB  CD8D06  	J050:	CALL	CPUER
 215: 1156+7	01DE  C606    	J060:	ADI	6	;A=6,C=0,P=1,S=0,Z=0
 216: 1163+10	01E0  C2E601  		JNZ	J070	;TEST "JNZ"
 217: 1173+17	01E3  CD8D06  		CALL	CPUER
 218: 1190+10	01E6  DAEF01  	J070:	JC	J080	;TEST "JC"
 219: 1200+10	01E9  E2EF01  		JPO	J080	;TEST "JPO"
 220: 1210+10	01EC  F2F201  		JP	J090	;TEST "JP"
 221: 1220+17	01EF  CD8D06  	J080:	CALL	CPUER
 222: 1237+7	01F2  C670    	J090:	ADI	070H	;A=76H,C=0,P=0,S=0,Z=0
 223: 1244+10	01F4  E2FA01  		JPO	J100	;TEST "JPO"
 224: 1254+17	01F7  CD8D06  		CALL	CPUER
 225: 1271+10	01FA  FA0302  	J100:	JM	J110	;TEST "JM"
 226: 1281+10	01FD  CA0302  		JZ	J110	;TEST "JZ"
 227: 1291+10	0200  D20602  		JNC	J120	;TEST "JNC"
 228: 1301+17	0203  CD8D06  	J110:	CALL	CPUER
 229: 1318+7	0206  C681    	J120:	ADI	081H	;A=F7H,C=0,P=0,S=1,Z=0
 230: 1325+10	0208  FA0E02  		JM	J130	;TEST "JM"
 231: 1335+17	020B  CD8D06  		CALL	CPUER
 232: 1352+10	020E  CA1702  	J130:	JZ	J140	;TEST "JZ"
 233: 1362+10	0211  DA1702  		JC	J140	;TEST "JC"
 234: 1372+10	0214  E21A02  		JPO	J150	;TEST "JPO"
 235: 1382+17	0217  CD8D06  	J140:	CALL	CPUER
 236: 1399+7	021A  C6FE    	J150:	ADI	0FEH	;A=F5H,C=1,P=1,S=1,Z=0
 237: 1406+10	021C  DA2202  		JC	J160	;TEST "JC"
 238: 1416+17	021F  CD8D06  		CALL	CPUER
 239: 1433+10	0222  CA2B02  	J160:	JZ	J170	;TEST "JZ"
 240: 1443+10	0225  E22B02  		JPO	J170	;TEST "JPO"
 241: 1453+10	0228  FA2E02  		JM	AIMM	;TEST "JM"
 242: 1463+17	022B  CD8D06  	J170:	CALL	CPUER
 243:				;
 244:				;
 245:				;
 246:				;TEST ACCUMULATOR IMMEDIATE INSTRUCTIONS
 247:				;
 248: 1480+7	022E  FE00    	AIMM:	CPI	0	;A=F5H,C=0,Z=0
 249: 1487+10	0230  DA4602  		JC	CPIE	;TEST "CPI" FOR RE-SET CARRY
 250: 1497+10	0233  CA4602  		JZ	CPIE	;TEST "CPI" FOR RE-SET ZERO
 251: 1507+7	0236  FEF5    		CPI	0F5H	;A=F5H,C=0,Z=1
 252: 1514+10	0238  DA4602  		JC	CPIE	;TEST "CPI" FOR RE-SET CARRY ("ADI")
 253: 1524+10	023B  C24602  		JNZ	CPIE	;TEST "CPI" FOR RE-SET ZERO
 254: 1534+7	023E  FEFF    		CPI	0FFH	;A=F5H,C=1,Z=0
 255: 1541+10	0240  CA4602  		JZ	CPIE	;TEST "CPI" FOR RE-SET ZERO
 256: 1551+10	0243  DA4902  		JC	ACII	;TEST "CPI" FOR SET CARRY
 257: 1561+17	0246  CD8D06  	CPIE:	CALL	CPUER
 258: 1578+7	0249  CE0A    	ACII:	ACI	00AH	;A=F5H+0AH+CARRY(1)=0,C=1
 259: 1585+7	024B  CE0A    		ACI	00AH	;A=0+0AH+CARRY(0)=0BH,C=0
 260: 1592+7	024D  FE0B    		CPI	00BH
 261: 1599+10	024F  CA5502  		JZ	SUII	;TEST "ACI"
 262: 1609+17	0252  CD8D06  		CALL	CPUER
 263: 1626+7	0255  D60C    	SUII:	SUI	00CH	;A=FFH,C=0
 264: 1633+7	0257  D60F    		SUI	00FH	;A=F0H,C=1
 265: 1640+7	0259  FEF0    		CPI	0F0H
 266: 1647+10	025B  CA6102  		JZ	SBII	;TEST "SUI"
 267: 1657+17	025E  CD8D06  		CALL	CPUER
 268: 1674+7	0261  DEF1    	SBII:	SBI	0F1H	;A=F0H-0F1H-CARRY(0)=FFH,C=1
 269: 1681+7	0263  DE0E    		SBI	00EH	;A=FFH-OEH-CARRY(1)=F0H,C=0
 270: 1688+7	0265  FEF0    		CPI	0F0H
 271: 1695+10	0267  CA6D02  		JZ	ANII	;TEST "SBI"
 272: 1705+17	026A  CD8D06  		CALL	CPUER
 273: 1722+7	026D  E655    	ANII:	ANI	055H	;A=F0H<AND>55H=50H,C=0,P=1,S=0,Z=0
 274: 1729+7	026F  FE50    		CPI	050H
 275: 1736+10	0271  CA7702  		JZ	ORII	;TEST "ANI"
 276: 1746+17	0274  CD8D06  		CALL	CPUER
 277: 1763+7	0277  F63A    	ORII:	ORI	03AH	;A=50H<OR>3AH=7AH,C=0,P=0,S=0,Z=0
 278: 1770+7	0279  FE7A    		CPI	07AH
 279: 1777+10	027B  CA8102  		JZ	XRII	;TEST "ORI"
 280: 1787+17	027E  CD8D06  		CALL	CPUER
 281: 1804+7	0281  EE0F    	XRII:	XRI	00FH	;A=7AH<XOR>0FH=75H,C=0,P=0,S=0,Z=0
 282: 1811+7	0283  FE75    		CPI	075H
 283: 1818+10	0285  CA8B02  		JZ	C010	;TEST "XRI"
 284: 1828+17	0288  CD8D06  		CALL	CPUER
 285:				;
 286:				;
 287:				;
 288:				;TEST CALLS AND RETURNS
 289:				;
 290: 1845+7	028B  E600    	C010:	ANI	000H	;A=0,C=0,P=1,S=0,Z=1
 291: 1852+11+6	028D  DC8D06  		CC	CPUER	;TEST "CC"
 292: 1863+11+6	0290  E48D06  		CPO	CPUER	;TEST "CPO"
 293: 1874+11+6	0293  FC8D06  		CM	CPUER	;TEST "CM"
 294: 1885+11+6	0296  C48D06  		CNZ	CPUER	;TEST "CNZ"
 295: 1896+7	0299  FE00    		CPI	000H
 296: 1903+10	029B  CAA102  		JZ	C020	;A=0,C=0,P=0,S=0,Z=1
 297: 1913+17	029E  CD8D06  		CALL	CPUER
 298: 1930+7	02A1  D677    	C020:	SUI	077H	;A=89H,C=1,P=0,S=1,Z=0
 299: 1937+11+6	02A3  D48D06  		CNC	CPUER	;TEST "CNC"
 300: 1948+11+6	02A6  EC8D06  		CPE	CPUER	;TEST "CPE"
 301: 1959+11+6	02A9  F48D06  		CP	CPUER	;TEST "CP"
 302: 1970+11+6	02AC  CC8D06  		CZ	CPUER	;TEST "CZ"
 303: 1981+7	02AF  FE89    		CPI	089H
 304: 1988+10	02B1  C3B702  		JMP C030;-----ORIGINAL: JZ	C030	;TEST FOR "CALLS" TAKING BRANCH
 305: 1998+17	02B4  CD8D06  		CALL	CPUER
 306: 2015+7	02B7  E6FF    	C030:	ANI	0FFH	;SET FLAGS BACK!
 307: 2022+11+6	02B9  E4C402  		CPO	CPOI	;TEST "CPO"
 308: 2033+7	02BC  FED9    		CPI	0D9H
 309: 2040+10	02BE  CA2103  		JZ	MOVI	;TEST "CALL" SEQUENCE SUCCESS
 310: 2050+17	02C1  CD8D06  		CALL	CPUER
 311: 2067+5+6	02C4  E8      	CPOI:	RPE		;TEST "RPE"
 312: 2072+7	02C5  C610    		ADI	010H	;A=99H,C=0,P=0,S=1,Z=0
 313: 2079+11+6	02C7  ECD002  		CPE	CPEI	;TEST "CPE"
 314: 2090+7	02CA  C602    		ADI	002H	;A=D9H,C=0,P=0,S=1,Z=0
 315: 2097+5+6	02CC  E0      		RPO		;TEST "RPO"
 316: 2102+17	02CD  CD8D06  		CALL	CPUER
 317: 2119+5+6	02D0  E0      	CPEI:	RPO		;TEST "RPO"
 318: 2124+7	02D1  C620    		ADI	020H	;A=B9H,C=0,P=0,S=1,Z=0
 319: 2131+11+6	02D3  FCDC02  		CM	CMI	;TEST "CM"
 320: 2142+7	02D6  C604    		ADI	004H	;A=D7H,C=0,P=1,S=1,Z=0
 321: 2149+5+6	02D8  E8      		RPE		;TEST "RPE"
 322: 2154+17	02D9  CD8D06  		CALL	CPUER
 323: 2171+5+6	02DC  F0      	CMI:	RP		;TEST "RP"
 324: 2176+7	02DD  C680    		ADI	080H	;A=39H,C=1,P=1,S=0,Z=0
 325: 2183+11+6	02DF  F4E802  		CP	TCPI	;TEST "CP"
 326: 2194+7	02E2  C680    		ADI	080H	;A=D3H,C=0,P=0,S=1,Z=0
 327: 2201+5+6	02E4  F8      		RM		;TEST "RM"
 328: 2206+17	02E5  CD8D06  		CALL	CPUER
 329: 2223+5+6	02E8  F8      	TCPI:	RM		;TEST "RM"
 330: 2228+7	02E9  C640    		ADI	040H	;A=79H,C=0,P=0,S=0,Z=0
 331: 2235+11+6	02EB  D4F402  		CNC	CNCI	;TEST "CNC"
 332: 2246+7	02EE  C640    		ADI	040H	;A=53H,C=0,P=1,S=0,Z=0
 333: 2253+5+6	02F0  F0      		RP		;TEST "RP"
 334: 2258+17	02F1  CD8D06  		CALL	CPUER
 335: 2275+5+6	02F4  D8      	CNCI:	RC		;TEST "RC"
 336: 2280+7	02F5  C68F    		ADI	08FH	;A=08H,C=1,P=0,S=0,Z=0
 337: 2287+11+6	02F7  DC0003  		CC	CCI	;TEST "CC"
 338: 2298+7	02FA  D602    		SUI	002H	;A=13H,C=0,P=0,S=0,Z=0
 339: 2305+5+6	02FC  D0      		RNC		;TEST "RNC"
 340: 2310+17	02FD  CD8D06  		CALL	CPUER
 341: 2327+5+6	0300  D0      	CCI:	RNC		;TEST "RNC"
 342: 2332+7	0301  C6F7    		ADI	0F7H	;A=FFH,C=0,P=1,S=1,Z=0
 343: 2339+11+6	0303  C40C03  		CNZ	CNZI	;TEST "CNZ"
 344: 2350+7	0306  C6FE    		ADI	0FEH	;A=15H,C=1,P=0,S=0,Z=0
 345: 2357+5+6	0308  D8      		RC		;TEST "RC"
 346: 2362+17	0309  CD8D06  		CALL	CPUER
 347: 2379+5+6	030C  C8      	CNZI:	RZ		;TEST "RZ"
 348: 2384+7	030D  C601    		ADI	001H	;A=00H,C=1,P=1,S=0,Z=1
 349: 2391+11+6	030F  CC1803  		CZ	CZI	;TEST "CZ"
 350: 2402+7	0312  C6D0    		ADI	0D0H	;A=17H,C=1,P=1,S=0,Z=0
 351: 2409+5+6	0314  C0      		RNZ		;TEST "RNZ"
 352: 2414+17	0315  CD8D06  		CALL	CPUER
 353: 2431+5+6	0318  C0      	CZI:	RNZ		;TEST "RNZ"
 354: 2436+7	0319  C647    		ADI	047H	;A=47H,C=0,P=1,S=0,Z=0
 355: 2443+7	031B  FE47    		CPI	047H	;A=47H,C=0,P=1,S=0,Z=1
 356: 2450+5+6	031D  C8      		RZ		;TEST "RZ"
 357: 2455+17	031E  CD8D06  		CALL	CPUER
 358:				;
 359:				;
 360:				;
 361:				;TEST "MOV","INR",AND "DCR" INSTRUCTIONS
 362:				;
 363: 2472+7	0321  3E77    	MOVI:	MVI	A,077H
 364: 2479+5	0323  3C      		INR	A
 365: 2484+5	0324  47      		MOV	B,A
 366: 2489+5	0325  04      		INR	B
 367: 2494+5	0326  48      		MOV	C,B
 368: 2499+5	0327  0D      		DCR	C
 369: 2504+5	0328  51      		MOV	D,C
 370: 2509+5	0329  5A      		MOV	E,D
 371: 2514+5	032A  63      		MOV	H,E
 372: 2519+5	032B  6C      		MOV	L,H
 373: 2524+5	032C  7D      		MOV	A,L	;TEST "MOV" A,L,H,E,D,C,B,A
 374: 2529+5	032D  3D      		DCR	A
 375: 2534+5	032E  4F      		MOV	C,A
 376: 2539+5	032F  59      		MOV	E,C
 377: 2544+5	0330  6B      		MOV	L,E
 378: 2549+5	0331  45      		MOV	B,L
 379: 2554+5	0332  50      		MOV	D,B
 380: 2559+5	0333  62      		MOV	H,D
 381: 2564+5	0334  7C      		MOV	A,H	;TEST "MOV" A,H,D,B,L,E,C,A
 382: 2569+5	0335  57      		MOV	D,A
 383: 2574+5	0336  14      		INR	D
 384: 2579+5	0337  6A      		MOV	L,D
 385: 2584+5	0338  4D      		MOV	C,L
 386: 2589+5	0339  0C      		INR	C
 387: 2594+5	033A  61      		MOV	H,C
 388: 2599+5	033B  44      		MOV	B,H
 389: 2604+5	033C  05      		DCR	B
 390: 2609+5	033D  58      		MOV	E,B
 391: 2614+5	033E  7B      		MOV	A,E	;TEST "MOV" A,E,B,H,C,L,D,A
 392: 2619+5	033F  5F      		MOV	E,A
 393: 2624+5	0340  1C      		INR	E
 394: 2629+5	0341  43      		MOV	B,E
 395: 2634+5	0342  60      		MOV	H,B
 396: 2639+5	0343  24      		INR	H
 397: 2644+5	0344  4C      		MOV	C,H
 398: 2649+5	0345  69      		MOV	L,C
 399: 2654+5	0346  55      		MOV	D,L
 400: 2659+5	0347  15      		DCR	D
 401: 2664+5	0348  7A      		MOV	A,D	;TEST "MOV" A,D,L,C,H,B,E,A
 402: 2669+5	0349  67      		MOV	H,A
 403: 2674+5	034A  25      		DCR	H
 404: 2679+5	034B  54      		MOV	D,H
 405: 2684+5	034C  42      		MOV	B,D
 406: 2689+5	034D  68      		MOV	L,B
 407: 2694+5	034E  2C      		INR	L
 408: 2699+5	034F  5D      		MOV	E,L
 409: 2704+5	0350  1D      		DCR	E
 410: 2709+5	0351  4B      		MOV	C,E
 411: 2714+5	0352  79      		MOV	A,C	;TEST "MOV" A,C,E,L,B,D,H,A
 412: 2719+5	0353  6F      		MOV	L,A
 413: 2724+5	0354  2D      		DCR	L
 414: 2729+5	0355  65      		MOV	H,L
 415: 2734+5	0356  5C      		MOV	E,H
 416: 2739+5	0357  53      		MOV	D,E
 417: 2744+5	0358  4A      		MOV	C,D
 418: 2749+5	0359  41      		MOV	B,C
 419: 2754+5	035A  78      		MOV	A,B
 420: 2759+7	035B  FE77    		CPI	077H
 421: 2766+11+6	035D  C48D06  		CNZ	CPUER	;TEST "MOV" A,B,C,D,E,H,L,A
 422:				;
 423:				;
 424:				;
 425:				;TEST ARITHMETIC AND LOGIC INSTRUCTIONS
 426:				;
 427: 2777+4	0360  AF      		XRA	A
 428: 2781+7	0361  0601    		MVI	B,001H
 429: 2788+7	0363  0E03    		MVI	C,003H
 430: 2795+7	0365  1607    		MVI	D,007H
 431: 2802+7	0367  1E0F    		MVI	E,00FH
 432: 2809+7	0369  261F    		MVI	H,01FH
 433: 2816+7	036B  2E3F    		MVI	L,03FH
 434: 2823+4	036D  80      		ADD	B
 435: 2827+4	036E  81      		ADD	C
 436: 2831+4	036F  82      		ADD	D
 437: 2835+4	0370  83      		ADD	E
 438: 2839+4	0371  84      		ADD	H
 439: 2843+4	0372  85      		ADD	L
 440: 2847+4	0373  87      		ADD	A
 441: 2851+7	0374  FEF0    		CPI	0F0H
 442: 2858+11+6	0376  C48D06  		CNZ	CPUER	;TEST "ADD" B,C,D,E,H,L,A
 443: 2869+4	0379  90      		SUB	B
 444: 2873+4	037A  91      		SUB	C
 445: 2877+4	037B  92      		SUB	D
 446: 2881+4	037C  93      		SUB	E
 447: 2885+4	037D  94      		SUB	H
 448: 2889+4	037E  95      		SUB	L
 449: 2893+7	037F  FE78    		CPI	078H
 450: 2900+11+6	0381  C48D06  		CNZ	CPUER	;TEST "SUB" B,C,D,E,H,L
 451: 2911+4	0384  97      		SUB	A
 452: 2915+11+6	0385  C48D06  		CNZ	CPUER	;TEST "SUB" A
 453: 2926+7	0388  3E80    		MVI	A,080H
 454: 2933+4	038A  87      		ADD	A
 455: 2937+7	038B  0601    		MVI	B,001H
 456: 2944+7	038D  0E02    		MVI	C,002H
 457: 2951+7	038F  1603    		MVI	D,003H
 458: 2958+7	0391  1E04    		MVI	E,004H
 459: 2965+7	0393  2605    		MVI	H,005H
 460: 2972+7	0395  2E06    		MVI	L,006H
 461: 2979+4	0397  88      		ADC	B
 462: 2983+7	0398  0680    		MVI	B,080H
 463: 2990+4	039A  80      		ADD	B
 464: 2994+4	039B  80      		ADD	B
 465: 2998+4	039C  89      		ADC	C
 466: 3002+4	039D  80      		ADD	B
 467: 3006+4	039E  80      		ADD	B
 468: 3010+4	039F  8A      		ADC	D
 469: 3014+4	03A0  80      		ADD	B
 470: 3018+4	03A1  80      		ADD	B
 471: 3022+4	03A2  8B      		ADC	E
 472: 3026+4	03A3  80      		ADD	B
 473: 3030+4	03A4  80      		ADD	B
 474: 3034+4	03A5  8C      		ADC	H
 475: 3038+4	03A6  80      		ADD	B
 476: 3042+4	03A7  80      		ADD	B
 477: 3046+4	03A8  8D      		ADC	L
 478: 3050+4	03A9  80      		ADD	B
 479: 3054+4	03AA  80      		ADD	B
 480: 3058+4	03AB  8F      		ADC	A
 481: 3062+7	03AC  FE37    		CPI	037H
 482: 3069+11+6	03AE  C48D06  		CNZ	CPUER	;TEST "ADC" B,C,D,E,H,L,A
 483: 3080+7	03B1  3E80    		MVI	A,080H
 484: 3087+4	03B3  87      		ADD	A
 485: 3091+7	03B4  0601    		MVI	B,001H
 486: 3098+4	03B6  98      		SBB	B
 487: 3102+7	03B7  06FF    		MVI	B,0FFH
 488: 3109+4	03B9  80      		ADD	B
 489: 3113+4	03BA  99      		SBB	C
 490: 3117+4	03BB  80      		ADD	B
 491: 3121+4	03BC  9A      		SBB	D
 492: 3125+4	03BD  80      		ADD	B
 493: 3129+4	03BE  9B      		SBB	E
 494: 3133+4	03BF  80      		ADD	B
 495: 3137+4	03C0  9C      		SBB	H
 496: 3141+4	03C1  80      		ADD	B
 497: 3145+4	03C2  9D      		SBB	L
 498: 3149+7	03C3  FEE0    		CPI	0E0H
 499: 3156+11+6	03C5  C48D06  		CNZ	CPUER	;TEST "SBB" B,C,D,E,H,L
 500: 3167+7	03C8  3E80    		MVI	A,080H
 501: 3174+4	03CA  87      		ADD	A
 502: 3178+4	03CB  9F      		SBB	A
 503: 3182+7	03CC  FEFF    		CPI	0FFH
 504: 3189+11+6	03CE  C48D06  		CNZ	CPUER	;TEST "SBB" A
 505: 3200+7	03D1  3EFF    		MVI	A,0FFH
 506: 3207+7	03D3  06FE    		MVI	B,0FEH
 507: 3214+7	03D5  0EFC    		MVI	C,0FCH
 508: 3221+7	03D7  16EF    		MVI	D,0EFH
 509: 3228+7	03D9  1E7F    		MVI	E,07FH
 510: 3235+7	03DB  26F4    		MVI	H,0F4H
 511: 3242+7	03DD  2EBF    		MVI	L,0BFH
 512: 3249+4	03DF  A7      		ANA	A
 513: 3253+4	03E0  A1      		ANA	C
 514: 3257+4	03E1  A2      		ANA	D
 515: 3261+4	03E2  A3      		ANA	E
 516: 3265+4	03E3  A4      		ANA	H
 517: 3269+4	03E4  A5      		ANA	L
 518: 3273+4	03E5  A7      		ANA	A
 519: 3277+7	03E6  FE24    		CPI	024H
 520: 3284+11+6	03E8  C48D06  		CNZ	CPUER	;TEST "ANA" B,C,D,E,H,L,A
 521: 3295+4	03EB  AF      		XRA	A
 522: 3299+7	03EC  0601    		MVI	B,001H
 523: 3306+7	03EE  0E02    		MVI	C,002H
 524: 3313+7	03F0  1604    		MVI	D,004H
 525: 3320+7	03F2  1E08    		MVI	E,008H
 526: 3327+7	03F4  2610    		MVI	H,010H
 527: 3334+7	03F6  2E20    		MVI	L,020H
 528: 3341+4	03F8  B0      		ORA	B
 529: 3345+4	03F9  B1      		ORA	C
 530: 3349+4	03FA  B2      		ORA	D
 531: 3353+4	03FB  B3      		ORA	E
 532: 3357+4	03FC  B4      		ORA	H
 533: 3361+4	03FD  B5      		ORA	L
 534: 3365+4	03FE  B7      		ORA	A
 535: 3369+7	03FF  FE3F    		CPI	03FH
 536: 3376+11+6	0401  C48D06  		CNZ	CPUER	;TEST "ORA" B,C,D,E,H,L,A
 537: 3387+7	0404  3E00    		MVI	A,000H
 538: 3394+7	0406  268F    		MVI	H,08FH
 539: 3401+7	0408  2E4F    		MVI	L,04FH
 540: 3408+4	040A  A8      		XRA	B
 541: 3412+4	040B  A9      		XRA	C
 542: 3416+4	040C  AA      		XRA	D
 543: 3420+4	040D  AB      		XRA	E
 544: 3424+4	040E  AC      		XRA	H
 545: 3428+4	040F  AD      		XRA	L
 546: 3432+7	0410  FECF    		CPI	0CFH
 547: 3439+11+6	0412  C48D06  		CNZ	CPUER	;TEST "XRA" B,C,D,E,H,L
 548: 3450+4	0415  AF      		XRA	A
 549: 3454+11+6	0416  C48D06  		CNZ	CPUER	;TEST "XRA" A
 550: 3465+7	0419  0644    		MVI	B,044H
 551: 3472+7	041B  0E45    		MVI	C,045H
 552: 3479+7	041D  1646    		MVI	D,046H
 553: 3486+7	041F  1E47    		MVI	E,047H
 554:					;MVI	H,(TEMP0 / 0FFH)	;HIGH BYTE OF TEST MEMORY LOCATION
 555: 3493+7	0421  26FF    		MVI	H,(TEMP0 >> 8)		;HIGH BYTE OF TEST MEMORY LOCATION
 556: 3500+7	0423  2E02    		MVI	L,(TEMP0 AND 0FFH)	;LOW BYTE OF TEST MEMORY LOCATION
 557: 3507+7	0425  70      		MOV	M,B
 558: 3514+7	0426  0600    		MVI	B,000H
 559: 3521+7	0428  46      		MOV	B,M
 560: 3528+7	0429  3E44    		MVI	A,044H
 561: 3535+4	042B  B8      		CMP	B
 562: 3539+11+6	042C  C48D06  		CNZ	CPUER	;TEST "MOV" M,B AND B,M
 563: 3550+7	042F  72      		MOV	M,D
 564: 3557+7	0430  1600    		MVI	D,000H
 565: 3564+7	0432  56      		MOV	D,M
 566: 3571+7	0433  3E46    		MVI	A,046H
 567: 3578+4	0435  BA      		CMP	D
 568: 3582+11+6	0436  C48D06  		CNZ	CPUER	;TEST "MOV" M,D AND D,M
 569: 3593+7	0439  73      		MOV	M,E
 570: 3600+7	043A  1E00    		MVI	E,000H
 571: 3607+7	043C  5E      		MOV	E,M
 572: 3614+7	043D  3E47    		MVI	A,047H
 573: 3621+4	043F  BB      		CMP	E
 574: 3625+11+6	0440  C48D06  		CNZ	CPUER	;TEST "MOV" M,E AND E,M
 575: 3636+7	0443  74      		MOV	M,H
 576:					;MVI	H,(TEMP0 / 0FFH)
 577: 3643+7	0444  26FF    		MVI	H,(TEMP0 >> 8)
 578: 3650+7	0446  2E02    		MVI	L,(TEMP0 AND 0FFH)
 579: 3657+7	0448  66      		MOV	H,M
 580:					;MVI	A,(TEMP0 / 0FFH)
 581: 3664+7	0449  3EFF    		MVI	A,(TEMP0 >> 8)
 582: 3671+4	044B  BC      		CMP	H
 583: 3675+11+6	044C  C48D06  		CNZ	CPUER	;TEST "MOV" M,H AND H,M
 584: 3686+7	044F  75      		MOV	M,L
 585:					;MVI	H,(TEMP0 / 0FFH)
 586: 3693+7	0450  26FF    		MVI	H,(TEMP0 >> 8)
 587: 3700+7	0452  2E02    		MVI	L,(TEMP0 AND 0FFH)
 588: 3707+7	0454  6E      		MOV	L,M
 589: 3714+7	0455  3E02    		MVI	A,(TEMP0 AND 0FFH)
 590: 3721+4	0457  BD      		CMP	L
 591: 3725+11+6	0458  C48D06  		CNZ	CPUER	;TEST "MOV" M,L AND L,M
 592:					;MVI	H,(TEMP0 / 0FFH)
 593: 3736+7	045B  26FF    		MVI	H,(TEMP0 >> 8)
 594: 3743+7	045D  2E02    		MVI	L,(TEMP0 AND 0FFH)
 595: 3750+7	045F  3E32    		MVI	A,032H
 596: 3757+7	0461  77      		MOV	M,A
 597: 3764+7	0462  BE      		CMP	M
 598: 3771+11+6	0463  C48D06  		CNZ	CPUER	;TEST "MOV" M,A
 599: 3782+7	0466  86      		ADD	M
 600: 3789+7	0467  FE64    		CPI	064H
 601: 3796+11+6	0469  C48D06  		CNZ	CPUER	;TEST "ADD" M
 602: 3807+4	046C  AF      		XRA	A
 603: 3811+7	046D  7E      		MOV	A,M
 604: 3818+7	046E  FE32    		CPI	032H
 605: 3825+11+6	0470  C48D06  		CNZ	CPUER	;TEST "MOV" A,M
 606:					;MVI	H,(TEMP0 / 0FFH)
 607: 3836+7	0473  26FF    		MVI	H,(TEMP0 >> 8)
 608: 3843+7	0475  2E02    		MVI	L,(TEMP0 AND 0FFH)
 609: 3850+7	0477  7E      		MOV	A,M
 610: 3857+7	0478  96      		SUB	M
 611: 3864+11+6	0479  C48D06  		CNZ	CPUER	;TEST "SUB" M
 612: 3875+7	047C  3E80    		MVI	A,080H
 613: 3882+4	047E  87      		ADD	A
 614: 3886+7	047F  8E      		ADC	M
 615: 3893+7	0480  FE33    		CPI	033H
 616: 3900+11+6	0482  C48D06  		CNZ	CPUER	;TEST "ADC" M
 617: 3911+7	0485  3E80    		MVI	A,080H
 618: 3918+4	0487  87      		ADD	A
 619: 3922+7	0488  9E      		SBB	M
 620: 3929+7	0489  FECD    		CPI	0CDH
 621: 3936+11+6	048B  C48D06  		CNZ	CPUER	;TEST "SBB" M
 622: 3947+7	048E  A6      		ANA	M
 623: 3954+11+6	048F  C48D06  		CNZ	CPUER	;TEST "ANA" M
 624: 3965+7	0492  3E25    		MVI	A,025H
 625: 3972+7	0494  B6      		ORA	M
 626: 3979+7	0495  FE37    		CPI	037H
 627: 3986+11+6	0497  C48D06  		CNZ	CPUER	;TEST "ORA" M
 628: 3997+7	049A  AE      		XRA	M
 629: 4004+7	049B  FE05    		CPI	005H
 630: 4011+11+6	049D  C48D06  		CNZ	CPUER	;TEST "XRA" M
 631: 4022+10	04A0  3655    		MVI	M,055H
 632: 4032+10	04A2  34      		INR	M
 633: 4042+10	04A3  35      		DCR	M
 634: 4052+7	04A4  86      		ADD	M
 635: 4059+7	04A5  FE5A    		CPI	05AH
 636: 4066+11+6	04A7  C48D06  		CNZ	CPUER	;TEST "INR","DCR",AND "MVI" M
 637: 4077+10	04AA  01FF12  		LXI	B,12FFH
 638: 4087+10	04AD  11FF12  		LXI	D,12FFH
 639: 4097+10	04B0  21FF12  		LXI	H,12FFH
 640: 4107+5	04B3  03      		INX	B
 641: 4112+5	04B4  13      		INX	D
 642: 4117+5	04B5  23      		INX	H
 643: 4122+7	04B6  3E13    		MVI	A,013H
 644: 4129+4	04B8  B8      		CMP	B
 645: 4133+11+6	04B9  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" B
 646: 4144+4	04BC  BA      		CMP	D
 647: 4148+11+6	04BD  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" D
 648: 4159+4	04C0  BC      		CMP	H
 649: 4163+11+6	04C1  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" H
 650: 4174+7	04C4  3E00    		MVI	A,000H
 651: 4181+4	04C6  B9      		CMP	C
 652: 4185+11+6	04C7  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" B
 653: 4196+4	04CA  BB      		CMP	E
 654: 4200+11+6	04CB  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" D
 655: 4211+4	04CE  BD      		CMP	L
 656: 4215+11+6	04CF  C48D06  		CNZ	CPUER	;TEST "LXI" AND "INX" H
 657: 4226+5	04D2  0B      		DCX	B
 658: 4231+5	04D3  1B      		DCX	D
 659: 4236+5	04D4  2B      		DCX	H
 660: 4241+7	04D5  3E12    		MVI	A,012H
 661: 4248+4	04D7  B8      		CMP	B
 662: 4252+11+6	04D8  C48D06  		CNZ	CPUER	;TEST "DCX" B
 663: 4263+4	04DB  BA      		CMP	D
 664: 4267+11+6	04DC  C48D06  		CNZ	CPUER	;TEST "DCX" D
 665: 4278+4	04DF  BC      		CMP	H
 666: 4282+11+6	04E0  C48D06  		CNZ	CPUER	;TEST "DCX" H
 667: 4293+7	04E3  3EFF    		MVI	A,0FFH
 668: 4300+4	04E5  B9      		CMP	C
 669: 4304+11+6	04E6  C48D06  		CNZ	CPUER	;TEST "DCX" B
 670: 4315+4	04E9  BB      		CMP	E
 671: 4319+11+6	04EA  C48D06  		CNZ	CPUER	;TEST "DCX" D
 672: 4330+4	04ED  BD      		CMP	L
 673: 4334+11+6	04EE  C48D06  		CNZ	CPUER	;TEST "DCX" H
 674: 4345+13	04F1  3202FF  		STA	TEMP0
 675: 4358+4	04F4  AF      		XRA	A
 676: 4362+13	04F5  3A02FF  		LDA	TEMP0
 677: 4375+7	04F8  FEFF    		CPI	0FFH
 678: 4382+11+6	04FA  C48D06  		CNZ	CPUER	;TEST "LDA" AND "STA"
 679: 4393+16	04FD  2A00FF  		LHLD	TEMPP
 680: 4409+16	0500  2202FF  		SHLD	TEMP0
 681: 4425+13	0503  3A00FF  		LDA	TEMPP
 682: 4438+5	0506  47      		MOV	B,A
 683: 4443+13	0507  3A02FF  		LDA	TEMP0
 684: 4456+4	050A  B8      		CMP	B
 685: 4460+11+6	050B  C48D06  		CNZ	CPUER	;TEST "LHLD" AND "SHLD"
 686: 4471+13	050E  3A01FF  		LDA	TEMPP+1
 687: 4484+5	0511  47      		MOV	B,A
 688: 4489+13	0512  3A03FF  		LDA	TEMP0+1
 689: 4502+4	0515  B8      		CMP	B
 690: 4506+11+6	0516  C48D06  		CNZ	CPUER	;TEST "LHLD" AND "SHLD"
 691: 4517+7	0519  3EAA    		MVI	A,0AAH
 692: 4524+13	051B  3202FF  		STA	TEMP0
 693: 4537+5	051E  44      		MOV	B,H
 694: 4542+5	051F  4D      		MOV	C,L
 695: 4547+4	0520  AF      		XRA	A
 696: 4551+7	0521  0A      		LDAX	B
 697: 4558+7	0522  FEAA    		CPI	0AAH
 698: 4565+11+6	0524  C48D06  		CNZ	CPUER	;TEST "LDAX" B
 699: 4576+5	0527  3C      		INR	A
 700: 4581+7	0528  02      		STAX	B
 701: 4588+13	0529  3A02FF  		LDA	TEMP0
 702: 4601+7	052C  FEAB    		CPI	0ABH
 703: 4608+11+6	052E  C48D06  		CNZ	CPUER	;TEST "STAX" B
 704: 4619+7	0531  3E77    		MVI	A,077H
 705: 4626+13	0533  3202FF  		STA	TEMP0
 706: 4639+16	0536  2A00FF  		LHLD	TEMPP
 707: 4655+10	0539  110000  		LXI	D,00000H
 708: 4665+5	053C  EB      		XCHG
 709: 4670+4	053D  AF      		XRA	A
 710: 4674+7	053E  1A      		LDAX	D
 711: 4681+7	053F  FE77    		CPI	077H
 712: 4688+11+6	0541  C48D06  		CNZ	CPUER	;TEST "LDAX" D AND "XCHG"
 713: 4699+4	0544  AF      		XRA	A
 714: 4703+4	0545  84      		ADD	H
 715: 4707+4	0546  85      		ADD	L
 716: 4711+11+6	0547  C48D06  		CNZ	CPUER	;TEST "XCHG"
 717: 4722+7	054A  3ECC    		MVI	A,0CCH
 718: 4729+7	054C  12      		STAX	D
 719: 4736+13	054D  3A02FF  		LDA	TEMP0
 720: 4749+7	0550  FECC    		CPI	0CCH
 721: 4756+7	0552  12      		STAX	D
 722: 4763+13	0553  3A02FF  		LDA	TEMP0
 723: 4776+7	0556  FECC    		CPI	0CCH
 724: 4783+11+6	0558  C48D06  		CNZ	CPUER	;TEST "STAX" D
 725: 4794+10	055B  217777  		LXI	H,07777H
 726: 4804+10	055E  29      		DAD	H
 727: 4814+7	055F  3EEE    		MVI	A,0EEH
 728: 4821+4	0561  BC      		CMP	H
 729: 4825+11+6	0562  C48D06  		CNZ	CPUER	;TEST "DAD" H
 730: 4836+4	0565  BD      		CMP	L
 731: 4840+11+6	0566  C48D06  		CNZ	CPUER	;TEST "DAD" H
 732: 4851+10	0569  215555  		LXI	H,05555H
 733: 4861+10	056C  01FFFF  		LXI	B,0FFFFH
 734: 4871+10	056F  09      		DAD	B
 735: 4881+7	0570  3E55    		MVI	A,055H
 736: 4888+11+6	0572  D48D06  		CNC	CPUER	;TEST "DAD" B
 737: 4899+4	0575  BC      		CMP	H
 738: 4903+11+6	0576  C48D06  		CNZ	CPUER	;TEST "DAD" B
 739: 4914+7	0579  3E54    		MVI	A,054H
 740: 4921+4	057B  BD      		CMP	L
 741: 4925+11+6	057C  C48D06  		CNZ	CPUER	;TEST "DAD" B
 742: 4936+10	057F  21AAAA  		LXI	H,0AAAAH
 743: 4946+10	0582  113333  		LXI	D,03333H
 744: 4956+10	0585  19      		DAD	D
 745: 4966+7	0586  3EDD    		MVI	A,0DDH
 746: 4973+4	0588  BC      		CMP	H
 747: 4977+11+6	0589  C48D06  		CNZ	CPUER	;TEST "DAD" D
 748: 4988+4	058C  BD      		CMP	L
 749: 4992+11+6	058D  C48D06  		CNZ	CPUER	;TEST "DAD" B
 750: 5003+4	0590  37      		STC
 751: 5007+11+6	0591  D48D06  		CNC	CPUER	;TEST "STC"
 752: 5018+4	0594  3F      		CMC
 753: 5022+11+6	0595  DC8D06  		CC	CPUER	;TEST "CMC
 754: 5033+7	0598  3EAA    		MVI	A,0AAH
 755: 5040+4	059A  2F      		CMA	
 756: 5044+7	059B  FE55    		CPI	055H
 757: 5051+11+6	059D  C48D06  		CNZ	CPUER	;TEST "CMA"
 758: 5062+4	05A0  B7      		ORA	A	;RE-SET AUXILIARY CARRY
 759: 5066+4	05A1  27      		DAA
 760: 5070+7	05A2  FE55    		CPI	055H
 761: 5077+11+6	05A4  C48D06  		CNZ	CPUER	;TEST "DAA"
 762: 5088+7	05A7  3E88    		MVI	A,088H
 763: 5095+4	05A9  87      		ADD	A
 764: 5099+4	05AA  27      		DAA
 765: 5103+7	05AB  FE76    		CPI	076H
 766: 5110+11+6	05AD  C48D06  		CNZ	CPUER	;TEST "DAA"
 767: 5121+4	05B0  AF      		XRA	A
 768: 5125+7	05B1  3EAA    		MVI	A,0AAH
 769: 5132+4	05B3  27      		DAA
 770: 5136+11+6	05B4  D48D06  		CNC	CPUER	;TEST "DAA"
 771: 5147+7	05B7  FE10    		CPI	010H
 772: 5154+11+6	05B9  C48D06  		CNZ	CPUER	;TEST "DAA"
 773: 5165+4	05BC  AF      		XRA	A
 774: 5169+7	05BD  3E9A    		MVI	A,09AH
 775: 5176+4	05BF  27      		DAA
 776: 5180+11+6	05C0  D48D06  		CNC	CPUER	;TEST "DAA"
 777: 5191+11+6	05C3  C48D06  		CNZ	CPUER	;TEST "DAA"
 778: 5202+4	05C6  37      		STC
 779: 5206+7	05C7  3E42    		MVI	A,042H
 780: 5213+4	05C9  07      		RLC
 781: 5217+11+6	05CA  DC8D06  		CC	CPUER	;TEST "RLC" FOR RE-SET CARRY
 782: 5228+4	05CD  07      		RLC
 783: 5232+11+6	05CE  D48D06  		CNC	CPUER	;TEST "RLC" FOR SET CARRY
 784: 5243+7	05D1  FE09    		CPI	009H
 785: 5250+11+6	05D3  C48D06  		CNZ	CPUER	;TEST "RLC" FOR ROTATION
 786: 5261+4	05D6  0F      		RRC
 787: 5265+11+6	05D7  D48D06  		CNC	CPUER	;TEST "RRC" FOR SET CARRY
 788: 5276+4	05DA  0F      		RRC
 789: 5280+7	05DB  FE42    		CPI	042H
 790: 5287+11+6	05DD  C48D06  		CNZ	CPUER	;TEST "RRC" FOR ROTATION
 791: 5298+4	05E0  17      		RAL
 792: 5302+4	05E1  17      		RAL
 793: 5306+11+6	05E2  D48D06  		CNC	CPUER	;TEST "RAL" FOR SET CARRY
 794: 5317+7	05E5  FE08    		CPI	008H
 795: 5324+11+6	05E7  C48D06  		CNZ	CPUER	;TEST "RAL" FOR ROTATION
 796: 5335+4	05EA  1F      		RAR
 797: 5339+4	05EB  1F      		RAR
 798: 5343+11+6	05EC  DC8D06  		CC	CPUER	;TEST "RAR" FOR RE-SET CARRY
 799: 5354+7	05EF  FE02    		CPI	002H
 800: 5361+11+6	05F1  C48D06  		CNZ	CPUER	;TEST "RAR" FOR ROTATION
 801: 5372+10	05F4  013412  		LXI	B,01234H
 802: 5382+10	05F7  11AAAA  		LXI	D,0AAAAH
 803: 5392+10	05FA  215555  		LXI	H,05555H
 804: 5402+4	05FD  AF      		XRA	A
 805: 5406+11	05FE  C5      		PUSH	B
 806: 5417+11	05FF  D5      		PUSH	D
 807: 5428+11	0600  E5      		PUSH	H
 808: 5439+11	0601  F5      		PUSH	PSW
 809: 5450+10	0602  010000  		LXI	B,00000H
 810: 5460+10	0605  110000  		LXI	D,00000H
 811: 5470+10	0608  210000  		LXI	H,00000H
 812: 5480+7	060B  3EC0    		MVI	A,0C0H
 813: 5487+7	060D  C6F0    		ADI	0F0H
 814: 5494+10	060F  F1      		POP	PSW
 815: 5504+10	0610  E1      		POP	H
 816: 5514+10	0611  D1      		POP	D
 817: 5524+10	0612  C1      		POP	B
 818: 5534+11+6	0613  DC8D06  		CC	CPUER	;TEST "PUSH PSW" AND "POP PSW"
 819: 5545+11+6	0616  C48D06  		CNZ	CPUER	;TEST "PUSH PSW" AND "POP PSW"
 820: 5556+11+6	0619  E48D06  		CPO	CPUER	;TEST "PUSH PSW" AND "POP PSW"
 821: 5567+11+6	061C  FC8D06  		CM	CPUER	;TEST "PUSH PSW" AND "POP PSW"
 822: 5578+7	061F  3E12    		MVI	A,012H
 823: 5585+4	0621  B8      		CMP	B
 824: 5589+11+6	0622  C48D06  		CNZ	CPUER	;TEST "PUSH B" AND "POP B"
 825: 5600+7	0625  3E34    		MVI	A,034H
 826: 5607+4	0627  B9      		CMP	C
 827: 5611+11+6	0628  C48D06  		CNZ	CPUER	;TEST "PUSH B" AND "POP B"
 828: 5622+7	062B  3EAA    		MVI	A,0AAH
 829: 5629+4	062D  BA      		CMP	D
 830: 5633+11+6	062E  C48D06  		CNZ	CPUER	;TEST "PUSH D" AND "POP D"
 831: 5644+4	0631  BB      		CMP	E
 832: 5648+11+6	0632  C48D06  		CNZ	CPUER	;TEST "PUSH D" AND "POP D"
 833: 5659+7	0635  3E55    		MVI	A,055H
 834: 5666+4	0637  BC      		CMP	H
 835: 5670+11+6	0638  C48D06  		CNZ	CPUER	;TEST "PUSH H" AND "POP H"
 836: 5681+4	063B  BD      		CMP	L
 837: 5685+11+6	063C  C48D06  		CNZ	CPUER	;TEST "PUSH H" AND "POP H"
 838: 5696+10	063F  210000  		LXI	H,00000H
 839: 5706+10	0642  39      		DAD	SP
 840: 5716+16	0643  2207FF  		SHLD	SAVSTK	;SAVE THE "OLD" STACK-POINTER!
 841: 5732+10	0646  3106FF  		LXI	SP,TEMP4
 842: 5742+5	0649  3B      		DCX	SP
 843: 5747+5	064A  3B      		DCX	SP
 844: 5752+5	064B  33      		INX	SP
 845: 5757+5	064C  3B      		DCX	SP
 846: 5762+7	064D  3E55    		MVI	A,055H
 847: 5769+13	064F  3204FF  		STA	TEMP2
 848: 5782+4	0652  2F      		CMA
 849: 5786+13	0653  3205FF  		STA	TEMP3
 850: 5799+10	0656  C1      		POP	B
 851: 5809+4	0657  B8      		CMP	B
 852: 5813+11+6	0658  C48D06  		CNZ	CPUER	;TEST "LXI","DAD","INX",AND "DCX" SP
 853: 5824+4	065B  2F      		CMA
 854: 5828+4	065C  B9      		CMP	C
 855: 5832+11+6	065D  C48D06  		CNZ	CPUER	;TEST "LXI","DAD","INX", AND "DCX" SP
 856: 5843+10	0660  2106FF  		LXI	H,TEMP4
 857: 5853+5	0663  F9      		SPHL
 858: 5858+10	0664  213377  		LXI	H,07733H
 859: 5868+5	0667  3B      		DCX	SP
 860: 5873+5	0668  3B      		DCX	SP
 861: 5878+18	0669  E3      		XTHL
 862: 5896+13	066A  3A05FF  		LDA	TEMP3
 863: 5909+7	066D  FE77    		CPI	077H
 864: 5916+11+6	066F  C48D06  		CNZ	CPUER	;TEST "SPHL" AND "XTHL"
 865: 5927+13	0672  3A04FF  		LDA	TEMP2
 866: 5940+7	0675  FE33    		CPI	033H
 867: 5947+11+6	0677  C48D06  		CNZ	CPUER	;TEST "SPHL" AND "XTHL"
 868: 5958+7	067A  3E55    		MVI	A,055H
 869: 5965+4	067C  BD      		CMP	L
 870: 5969+11+6	067D  C48D06  		CNZ	CPUER	;TEST "SPHL" AND "XTHL"
 871: 5980+4	0680  2F      		CMA
 872: 5984+4	0681  BC      		CMP	H
 873: 5988+11+6	0682  C48D06  		CNZ	CPUER	;TEST "SPHL" AND "XTHL"
 874: 5999+16	0685  2A07FF  		LHLD	SAVSTK	;RESTORE THE "OLD" STACK-POINTER
 875: 6015+5	0688  F9      		SPHL
 876: 6020+10	0689  21AC06  		LXI	H,CPUOK
 877: 6030+5	068C  E9      		PCHL		;TEST "PCHL"
 878:				;
 879:				;
 880:				;
 881: 6035+11	068D  F5      	CPUER:	PUSH PSW
 882: 6046+10	068E  E1      		POP H
 883: 6056+16	068F  2206FF  		SHLD TEMP4
 884: 6072+10	0692  218C01  		LXI	H,NGCPU	;OUTPUT "CPU HAS FAILED    ERROR EXIT=" TO CONSOLE
 885: 6082+17	0695  CD4601  		CALL	MSG
 886: 6099+18	0698  E3      		XTHL
 887: 6117+5	0699  7C      		MOV	A,H
 888: 6122+17	069A  CD5501  		CALL	BYTEO	;SHOW ERROR EXIT ADDRESS HIGH BYTE
 889: 6139+5	069D  7D      		MOV	A,L
 890: 6144+17	069E  CD5501  		CALL	BYTEO	;SHOW ERROR EXIT ADDRESS LOW BYTE
 891: 6161+16	06A1  2A06FF  		LHLD TEMP4
 892: 6177+11	06A4  E5      		PUSH H
 893: 6188+10	06A5  F1      		POP PSW
 894: 6198+17	06A6  CD8A00  		CALL PSWOUT
 895: 6215+10	06A9  C30000  		JMP	WBOOT	;EXIT TO CP/M WARM BOOT
 896:				;
 897:				;
 898:				;
 899: 6225+10	06AC  217501  	CPUOK:	LXI	H,OKCPU	;OUTPUT "CPU IS OPERATIONAL" TO CONSOLE
 900: 6235+17	06AF  CD4601  		CALL	MSG
 901: 6252+10	06B2  C30000  		JMP	WBOOT	;EXIT TO CP/M WARM BOOT
 902:				;
 903:				; -------- RAM is implemented in top 256 bytes of the address space -------
 904:     -	FF00          		ORG 0FF00H
 905:				;
 906:     -	FF00  02FF    	TEMPP:	DW	TEMP0	;POINTER USED TO TEST "LHLD","SHLD",
 907:							; AND "LDAX" INSTRUCTIONS
 908:				;
 909:     -	FF02          	TEMP0:	DS	1	;TEMPORARY STORAGE FOR CPU TEST MEMORY LOCATIONS
 910:     -	FF03          	TEMP1:	DS	1	;TEMPORARY STORAGE FOR CPU TEST MEMORY LOCATIONS
 911:     -	FF04          	TEMP2	DS	1	;TEMPORARY STORAGE FOR CPU TEST MEMORY LOCATIONS
 912:     -	FF05          	TEMP3:	DS	1	;TEMPORARY STORAGE FOR CPU TEST MEMORY LOCATIONS
 913:     -	FF06          	TEMP4:	DS	1	;TEMPORARY STORAGE FOR CPU TEST MEMORY LOCATIONS
 914:     -	FF07          	SAVSTK:	DS	2	;TEMPORARY STACK-POINTER STORAGE LOCATION
 915:				;
 916:				;
 917:				;
 918:     -	FF80          	STACK	EQU	TEMPP+128	;DE-BUG STACK POINTER STORAGE AREA
 919:				;
 920:				;
 921:				;
 922:     -	FF09          		END



Statistics:

     4	passes
     0	jr promotions
    81	symbols
  1608	bytes



Symbol Table:

acia0_data     =  11     
acia0_status   =  10     
acii             249     
aimm             22e     
anii             26d     
bdos           =   5     
byteo            155     
bytesathl         50     
byto1            165     
byto2            169     
byto3            172     
c010             28b     
c020             2a1     
c030             2b7     
c_write           13     
c_writestr        19     
cci              300     
checkifready      7f     
cmi              2dc     
cnci             2f4     
cnzi             30c     
cpei             2d0     
cpie             246     
cpoi             2c4     
cpu              1af     
cpuer            68d     
cpuok            6ac     
cr             =   d     
czi              318     
deadloop          48     
done              11     
dumpmem           38     
init              25     
j010             1ba     
j020             1c0     
j030             1c6     
j040             1cc     
j050             1db     
j060             1de     
j070             1e6     
j080             1ef     
j090             1f2     
j100             1fa     
j110             203     
j120             206     
j130             20e     
j140             217     
j150             21a     
j160             222     
j170             22b     
lf             =   a     
mask_ready     =   2     
movi             321     
msg              146     
nextbyteathl      52     
ngcpu            18c     
okcpu            175     
orii             277     
pchar            14f     
port0          =   0     
port1          =   1     
pswout            8a     
savstk          ff07     
sbii             261     
sendchar          7e     
stack          =ff80     
suii             255     
tcpi             2e8     
temp0           ff02     
temp1           ff03     
temp2           ff04     
temp3           ff05     
temp4           ff06     
tempp           ff00     
txhexdig          6f     
txhexdigout       7a     
txvalueofa        66     
txvalueofhl       61     
waitforbtn1       93     
wboot          =   0     
xrii             281     
